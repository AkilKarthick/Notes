Optional Class
--------------

is a container object that may or may not contain a value
if forces you to handle 'no value' cases explicitly , instead of blindly using null
to avoid null pointer exception! 

old way: why Optional was introduced ?

    User user = userRepo.findById(id);
    if(user != null) {
    System.out.println(user.getName()); } // nullPointerException Risk

too many null checks
Missed check means  -> it will through nullPointerExceptions!

-Java 8 Solution âœ…-
    Optional<Users> userOpt = userRepo.findById(id);
    userOpt.isPresent(user -> System.out.println(user.getName()));

ğŸ”¹ Creating Optional (VERY IMPORTANT)
--------------------------------------

    Optional<String> o1 = Optional.of("Java");      // âŒ throws NPE if null
    Optional<String> o2 = Optional.ofNullable(null); // âœ… safe
    Optional<String> o3 = Optional.empty();          // empty

Optional Methods:

âŒ isPresent & get()  not reccomended much

    if(userOpt.ifPresetn()){
        User user = userOpt.get();
    }
This is not preferred as it looks like old null-check style.â€

2. ifPresent()

    userOpt.ifPresent(user->System.out.println(user.getName()));

    used for Logging or conditional processing

ğŸ”¹ ifPresent() vs ifPresentOrElse() (Java 9+)

Optional.ifPresentorElse( c->System.out.println(c),()->System.out.println("notpresent"));


3.orElse() VS orElseGet()

    userOpt.orElse(createDefaultUser());  //always executed
    userOpt.orElseGet(()->createDefaultUser()) //executed only if emply

Key difference:

    orElse() â†’ eager
    orElseGet() â†’ lazy (preferred)

ğŸ—£ï¸ Interview line: â€œWe use orElseGet() to avoid unnecessary object creation.â€

orElseThrow() (MOST USED IN REST APIs ğŸ”¥)

User user = userOpt.orElseThrow( ()-> new ResoureNotFoundException("User not found"));

ğŸ—£ï¸ Project usage:
In REST APIs, we use orElseThrow() to return 404 when data is missing.

âŒ What NOT to do with Optional (INTERVIEW TRAP)

  âŒ Donâ€™t use Optional as class field ( ğŸ‘‰ Serialization & ORM issues (JPA))
  âŒ Donâ€™t use Optional in method parameters (ğŸ‘‰ Makes API confusing)

ğŸ—£ï¸ Say this:
can Optiona contain null? âŒ NO
â€œOptional is mainly intended for return types.

5ï¸âƒ£ What exception does get() throw?
ğŸ‘‰ NoSuchElementException

6ï¸âƒ£ Does orElse() evaluate eagerly?
âœ… YES

8ï¸âƒ£ Is Optional thread-safe? âœ… YES (immutable)

9ï¸âƒ£ Can Optional be empty and non-null?
âœ… YES

ğŸ‘‰ Optional.empty() is a valid object


ğŸ”¥ Real Spring Boot Example

Optional<User> userOpt = userRepositoru.findbyId(id);
User user = userOpt.orElseThrow( ()-> 
                    new ResourceNotFoundException("incident not found"));

Optional is a container, introduced in java 8 to avoid null checks. it should be used mainly as a return type
, not for fields and parameter and accessed using safe method like orElseGet() or orElseThrow()




